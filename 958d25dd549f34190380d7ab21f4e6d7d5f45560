{
  "comments": [
    {
      "key": {
        "uuid": "03ff8761_5691cdca",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCPeerConnectionFactory.mm",
        "patchSetId": 8
      },
      "lineNbr": 129,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-09-28T14:42:42Z",
      "side": 1,
      "message": "We need to do:\n#ifdef HAVE_NO_MEDIA\n  return [self initWithNoMedia];\n#else\n  if (self \u003d [self initNative]) {\n    ...\n  }\n  return self;\n#endif",
      "range": {
        "startLine": 129,
        "startChar": 2,
        "endLine": 129,
        "endChar": 4
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "126b9245_3c69ba1d",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCPeerConnectionFactory.mm",
        "patchSetId": 8
      },
      "lineNbr": 129,
      "author": {
        "id": 5249
      },
      "writtenOn": "2017-10-03T13:14:04Z",
      "side": 1,
      "message": "This initializer is a private method and is only called by the public initializers in the case where HAVE_NO_MEDIA is not set.\n\nOnly `-init` and `-initWithEncoderFactory:decoderFactory:` are exposed in the public API.",
      "parentUuid": "03ff8761_5691cdca",
      "range": {
        "startLine": 129,
        "startChar": 2,
        "endLine": 129,
        "endChar": 4
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b26d68bd_718720c8",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCPeerConnectionFactory.mm",
        "patchSetId": 8
      },
      "lineNbr": 129,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-10-04T13:52:35Z",
      "side": 1,
      "message": "Ok, but can\u0027t we make this change anyway to make the method more self contained and robust? Especially since we already have an ifdef inside it.",
      "parentUuid": "126b9245_3c69ba1d",
      "range": {
        "startLine": 129,
        "startChar": 2,
        "endLine": 129,
        "endChar": 4
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e5ae7bff_0c6bccd0",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCPeerConnectionFactory.mm",
        "patchSetId": 8
      },
      "lineNbr": 155,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-09-28T14:42:42Z",
      "side": 1,
      "message": "Same here, we should handle the HAVE_NO_MEDIA case.",
      "range": {
        "startLine": 155,
        "startChar": 5,
        "endLine": 155,
        "endChar": 6
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23a09dc0_638a7675",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCPeerConnectionFactory.mm",
        "patchSetId": 8
      },
      "lineNbr": 155,
      "author": {
        "id": 5249
      },
      "writtenOn": "2017-10-03T13:14:04Z",
      "side": 1,
      "message": "Same as above",
      "parentUuid": "e5ae7bff_0c6bccd0",
      "range": {
        "startLine": 155,
        "startChar": 5,
        "endLine": 155,
        "endChar": 6
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d22839bf_cd83f4fe",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCVideoCodec.mm",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-09-28T14:42:42Z",
      "side": 1,
      "message": "Unrelated to this CL, but we should remove payload from RTCVideoCodecInfo. It shouldn\u0027t be needed.",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 31
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44dadd72_f3bfd699",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCVideoCodec.mm",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 5249
      },
      "writtenOn": "2017-10-03T13:14:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d22839bf_cd83f4fe",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 31
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6fd57767_88520594",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCVideoCodec.mm",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-09-28T14:42:42Z",
      "side": 1,
      "message": "Let\u0027s add a common function for converting cricket::VideoCodec to SdpVideoFormat, so we don\u0027t have to duplicate logic like this.",
      "range": {
        "startLine": 34,
        "startChar": 16,
        "endLine": 34,
        "endChar": 40
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53acbee3_dc9dd929",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCVideoCodec.mm",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 5249
      },
      "writtenOn": "2017-10-03T13:14:04Z",
      "side": 1,
      "message": "Moved this to do a `SdpVideoFormat(codec.name, codec.params)` at the call site. Right now we have this construct in three places, maybe worth adding a convenience function somewhere but not sure where since it\u0027s used also in webrtcvideoengine.cc",
      "parentUuid": "6fd57767_88520594",
      "range": {
        "startLine": 34,
        "startChar": 16,
        "endLine": 34,
        "endChar": 40
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c13d7e3_b386c832",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCVideoCodecVP9.mm",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-09-28T14:42:42Z",
      "side": 1,
      "message": "Let\u0027s split these into separate files and targets.",
      "range": {
        "startLine": 34,
        "startChar": 16,
        "endLine": 34,
        "endChar": 34
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3999689_dcb2108a",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCVideoCodecVP9.mm",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 5249
      },
      "writtenOn": "2017-10-03T13:14:04Z",
      "side": 1,
      "message": "The dependency for both targets would still wind up being \"../modules/video_coding:webrtc_vp9\" in the build file as far as I can tell, let me know if you think it still makes sense to split them up.",
      "parentUuid": "1c13d7e3_b386c832",
      "range": {
        "startLine": 34,
        "startChar": 16,
        "endLine": 34,
        "endChar": 34
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59e51096_505c0a09",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCVideoCodecVP9.mm",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-10-04T13:52:35Z",
      "side": 1,
      "message": "True, let\u0027s keep it in the same file (at least for now) then.",
      "parentUuid": "b3999689_dcb2108a",
      "range": {
        "startLine": 34,
        "startChar": 16,
        "endLine": 34,
        "endChar": 34
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7647ac7_28164e4d",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoDecoder.h",
        "patchSetId": 8
      },
      "lineNbr": 20,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-09-28T14:42:42Z",
      "side": 1,
      "message": "We should change the name and comment that this function actually extracts and moves ownership of the wrapped native decoder.",
      "range": {
        "startLine": 20,
        "startChar": 41,
        "endLine": 20,
        "endChar": 55
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a989bfe_0fab296f",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoDecoder.h",
        "patchSetId": 8
      },
      "lineNbr": 20,
      "author": {
        "id": 5249
      },
      "writtenOn": "2017-10-03T13:14:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b7647ac7_28164e4d",
      "range": {
        "startLine": 20,
        "startChar": 41,
        "endLine": 20,
        "endChar": 55
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25bb2168_79ed502c",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoDecoder.mm",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-09-28T14:42:42Z",
      "side": 1,
      "message": "Let\u0027s reuse the helper function nativeToRtcFrame in objc_video_encoder_factory.mm (we need to move it somewhere common), and use that from here. Please also update the conversion in RTCVideoRendererAdapter.mm even though it\u0027s unrelated to the goal in this CL.",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 28,
        "endChar": 75
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1643f0a8_b84b6aa8",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoDecoder.mm",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 5249
      },
      "writtenOn": "2017-10-03T13:14:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "25bb2168_79ed502c",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 28,
        "endChar": 75
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a86e086e_ea54186a",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoDecoder.mm",
        "patchSetId": 8
      },
      "lineNbr": 88,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-09-28T14:42:42Z",
      "side": 1,
      "message": "I think we need to add subclasses for VP8 and VP9 now.",
      "range": {
        "startLine": 88,
        "startChar": 27,
        "endLine": 88,
        "endChar": 51
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b82e7559_56ae9f74",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoDecoder.mm",
        "patchSetId": 8
      },
      "lineNbr": 88,
      "author": {
        "id": 5249
      },
      "writtenOn": "2017-10-03T13:14:04Z",
      "side": 1,
      "message": "Sort of. We don\u0027t actually go through this path since we use the shortcut and just inject the wrapped encoder pointers directly for VP8 and VP9, and I\u0027m not sure whether wrapping the CodecSpecificInfoVP8 and VP9 structs could be useful in any other context? They contain a lot of fields so if it\u0027s just dead code it seems a little unnecessary.\n\nCurrently, if we remove the shortcut, the InitDecode call fails when called from `startEncodeWithSettings`. I think it is because we drop some information there, we\u0027d need to support more fields in RTCVideoEncoderSettings since the corresponding C++ type webrtc::VideoCodec has a codec_specific_ field that holds VP8/VP9/H264 specific parameters. Not sure how much effort should be put into supporting the case of actually going through these code paths vs. just implementing what is needed to conform to the RTCVideoDecoder/RTCVideoDecoder protocols. Another option could be just calling some RTC_NOTREACHED in the implementation I guess since these are now not public anymore.",
      "parentUuid": "a86e086e_ea54186a",
      "range": {
        "startLine": 88,
        "startChar": 27,
        "endLine": 88,
        "endChar": 51
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e3a28b8_423c6406",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoDecoder.mm",
        "patchSetId": 8
      },
      "lineNbr": 88,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-10-04T13:52:35Z",
      "side": 1,
      "message": "Ok, maybe we should start with \"RTC_NOTREACHED; return nil;\" implementations, and comment for the VP8 create functions that they are not implementing the ObjC interface and only can be injected.",
      "parentUuid": "b82e7559_56ae9f74",
      "range": {
        "startLine": 88,
        "startChar": 27,
        "endLine": 88,
        "endChar": 51
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "841f89eb_08bd9352",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoEncoder.h",
        "patchSetId": 8
      },
      "lineNbr": 24,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-09-28T14:42:42Z",
      "side": 1,
      "message": "I think we should remove it now and have the list directly in QueryVideoEncoder instead.",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 24,
        "endChar": 21
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae815d70_daec72c6",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoEncoder.h",
        "patchSetId": 8
      },
      "lineNbr": 24,
      "author": {
        "id": 5249
      },
      "writtenOn": "2017-10-03T13:14:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "841f89eb_08bd9352",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 24,
        "endChar": 21
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b436237_0c430411",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoEncoder.mm",
        "patchSetId": 8
      },
      "lineNbr": 91,
      "author": {
        "id": 5098
      },
      "writtenOn": "2017-09-28T14:42:42Z",
      "side": 1,
      "message": "We should add a helper function for going from RTCVideoFrame -\u003e webrtc::VideoFrame as well.",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 91,
        "endChar": 82
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a6d8814_131f766e",
        "filename": "sdk/objc/Framework/Classes/PeerConnection/RTCWrappedNativeVideoEncoder.mm",
        "patchSetId": 8
      },
      "lineNbr": 91,
      "author": {
        "id": 5249
      },
      "writtenOn": "2017-10-03T13:14:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9b436237_0c430411",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 91,
        "endChar": 82
      },
      "revId": "958d25dd549f34190380d7ab21f4e6d7d5f45560",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}