{
  "comments": [
    {
      "key": {
        "uuid": "54d43bf2_e341c685",
        "filename": "webrtc/examples/objc/AppRTCMobile/ios/ARDVideoCallViewController.m",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1001300
      },
      "writtenOn": "2017-06-26T08:30:41Z",
      "side": 1,
      "message": "I don\u0027t know if it is a good idea or not but would it be possible to add this counter to the\nmain UI for improved debugging purposes? Perhaps a flag in settings could enable/disable such UI.",
      "range": {
        "startLine": 167,
        "startChar": 0,
        "endLine": 167,
        "endChar": 1
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a347022c_f670f76e",
        "filename": "webrtc/examples/objc/AppRTCMobile/ios/ARDVideoCallViewController.m",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1215177
      },
      "writtenOn": "2017-06-26T12:43:47Z",
      "side": 1,
      "message": "I was thinking about this also but unsure about what would be the best way to do it. There is some kind of debug overlay that can be accessed by tapping the screen three times when in a call, perhaps it could be added to that view? Or maybe show it visually in some more prominent way, what do you think is best?",
      "parentUuid": "54d43bf2_e341c685",
      "range": {
        "startLine": 167,
        "startChar": 0,
        "endLine": 167,
        "endChar": 1
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fccf2a8a_78221896",
        "filename": "webrtc/examples/objc/AppRTCMobile/ios/ARDVideoCallViewController.m",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1001300
      },
      "writtenOn": "2017-06-26T15:35:40Z",
      "side": 1,
      "message": "Adding to the debug overlay seems like a great idea. Would also be nice if it could work in audio only mode.",
      "parentUuid": "a347022c_f670f76e",
      "range": {
        "startLine": 167,
        "startChar": 0,
        "endLine": 167,
        "endChar": 1
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "344f96ba_a2ef5ad0",
        "filename": "webrtc/examples/objc/AppRTCMobile/ios/ARDVideoCallViewController.m",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1215177
      },
      "writtenOn": "2017-06-27T08:07:51Z",
      "side": 1,
      "message": "After some investigation it seems that adding it was a bit more work than I anticipated. The debug view does not seem to work in audio only calls at all right now. It\u0027s probably better to add this feature as a new separate issue if needed.",
      "parentUuid": "fccf2a8a_78221896",
      "range": {
        "startLine": 167,
        "startChar": 0,
        "endLine": 167,
        "endChar": 1
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ecc8f46_e77d8f3b",
        "filename": "webrtc/examples/objc/AppRTCMobile/ios/ARDVideoCallViewController.m",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1001300
      },
      "writtenOn": "2017-06-27T08:55:22Z",
      "side": 1,
      "message": "Then skip it. Break out a new task and add it if/when you have time.",
      "parentUuid": "344f96ba_a2ef5ad0",
      "range": {
        "startLine": 167,
        "startChar": 0,
        "endLine": 167,
        "endChar": 1
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2665d8e_3444f662",
        "filename": "webrtc/modules/audio_device/ios/audio_device_ios.mm",
        "patchSetId": 2
      },
      "lineNbr": 676,
      "author": {
        "id": 1001300
      },
      "writtenOn": "2017-06-26T08:30:41Z",
      "side": 1,
      "message": "I don\u0027t know iOS GCD well. Could you please motivate why the main queue is preferable here?",
      "range": {
        "startLine": 676,
        "startChar": 2,
        "endLine": 676,
        "endChar": 16
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de9e8de1_6039135d",
        "filename": "webrtc/modules/audio_device/ios/audio_device_ios.mm",
        "patchSetId": 2
      },
      "lineNbr": 676,
      "author": {
        "id": 1215177
      },
      "writtenOn": "2017-06-26T12:43:47Z",
      "side": 1,
      "message": "Basically we need to dispatch to some other queue so we don\u0027t run the client\u0027s implemented delegate methods on the thread that AudioDeviceIOS runs on.\n\nThe other notify* methods are called from RTCAudioSession inside selectors called from NSNotificationCenter. These are called from the same thread that the notifications are posted on. For the AVAudioSession related notifications that are handled there, they are documented as being posted on the main thread. So I thought it made sense to match that.",
      "parentUuid": "e2665d8e_3444f662",
      "range": {
        "startLine": 676,
        "startChar": 2,
        "endLine": 676,
        "endChar": 16
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d558656_9aa5fe30",
        "filename": "webrtc/modules/audio_device/ios/audio_device_ios.mm",
        "patchSetId": 2
      },
      "lineNbr": 676,
      "author": {
        "id": 1001300
      },
      "writtenOn": "2017-06-26T15:35:40Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "de9e8de1_6039135d",
      "range": {
        "startLine": 676,
        "startChar": 2,
        "endLine": 676,
        "endChar": 16
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aaf9c12d_1cc02d7c",
        "filename": "webrtc/modules/audio_device/ios/audio_device_ios.mm",
        "patchSetId": 2
      },
      "lineNbr": 678,
      "author": {
        "id": 1117641
      },
      "writtenOn": "2017-06-26T11:57:04Z",
      "side": 1,
      "message": "Is |num_detected_playout_glitches_| captured by-value in this block? Otherwise it doesn\u0027t look thread safe.",
      "range": {
        "startLine": 678,
        "startChar": 42,
        "endLine": 678,
        "endChar": 72
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03c0e7c8_a4ac3060",
        "filename": "webrtc/modules/audio_device/ios/audio_device_ios.mm",
        "patchSetId": 2
      },
      "lineNbr": 678,
      "author": {
        "id": 1215177
      },
      "writtenOn": "2017-06-26T12:43:47Z",
      "side": 1,
      "message": "From reading up on this, it looks like C++ instance variables are indeed not copied by value by Objective-C blocks, instead using an implicit this pointer. I think this could be resolved by assigning the value of num_detected_playout_glitches_ to a local int64_t variable inside the method, and then referencing that variable in the block instead.",
      "parentUuid": "aaf9c12d_1cc02d7c",
      "range": {
        "startLine": 678,
        "startChar": 42,
        "endLine": 678,
        "endChar": 72
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa65f79d_1c4f53d0",
        "filename": "webrtc/modules/audio_device/ios/audio_device_ios.mm",
        "patchSetId": 2
      },
      "lineNbr": 678,
      "author": {
        "id": 1215177
      },
      "writtenOn": "2017-06-26T13:35:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "03c0e7c8_a4ac3060",
      "range": {
        "startLine": 678,
        "startChar": 42,
        "endLine": 678,
        "endChar": 72
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1b27f775_8b78df4d",
        "filename": "webrtc/sdk/objc/Framework/Headers/WebRTC/RTCAudioSession.h",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1001300
      },
      "writtenOn": "2017-06-26T08:30:41Z",
      "side": 1,
      "message": "Perhaps you should also mention when the counter is reset (@Start/StopPlayout)",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 1
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67cd79e6_45addbe3",
        "filename": "webrtc/sdk/objc/Framework/Headers/WebRTC/RTCAudioSession.h",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1215177
      },
      "writtenOn": "2017-06-26T13:35:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1b27f775_8b78df4d",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 1
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "578f981d_d2d07872",
        "filename": "webrtc/sdk/objc/Framework/Headers/WebRTC/RTCAudioSession.h",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1001300
      },
      "writtenOn": "2017-06-26T15:35:40Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "67cd79e6_45addbe3",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 1
      },
      "revId": "9039ce4628376bda020e662117a52813fdb1fc59",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}